---
title: "ggplot"
output: html_document
---

### Lê dados

```{r}
load("../dados/enem.Rdata")
```

### Bibliotecas

```{r}
library(tidyverse)
```

### Qual a relação entre português e matemática?

-   ggplot(data = <DATA>) + <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```{r}

```


### Sua vez

-   Qual a relação entre outras notas (lembre que tem redação) ?
-   Qual a relação entre a nota de matemática

```{r}


```

### Qual a relação entre as provas para meninos e meninas e por tipo de escola ?

```{r}
 

```

```{r}


```

-   Explore a relação com outras terceiras variáveis. Use outros atributos: *color*: altera a cor de formas que não têm área (pontos e retas); *fill*: altera a cor de formas com área (barras, caixas, densidades, áreas); *size*: altera o tamanho de formas; *type*: altera o tipo da forma, geralmente usada para pontos e *linetype*: altera o tipo da linha.

-   Shapes ![Shapes](../imagens/shapes-1.png)

```{r}


```

-   Qual o erro aqui ?

```{r eval = FALSE}


```

-   Veja como a cor é usada aqui

```{r eval = FALSE}

```

### Uso de facets

```{r}


```

### Geoms

-   Estudo e cheatsheet <https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf>

```{r}


```

-   Análise de distribuições. Tente manipular `fill` e `color` para fazer esse histograma ficar mais bonito?
-   Tente ver o help usando `?geom_histogram`

```{r}



```

-   Visualização de padrões de correlação `geom_smooth`. Note o que foi feito.

```{r}

 

```

-   Podemos sobrepor geoms !!

```{r}

```

-   Note que o grafico acima poderia ser feito assim

```{r}


```

-   Quando você especifica o mapeamento dentro de uma função `geom_` este será usado localmente no layer criado pelo geom.

```{r}


```

-   Veja que você pode especificar um dataframe específico dentro da função geom

```{r}



```

```{r}


```

### Transformações estatísticas

-   Veja como fazemos figuras de barras

```{r}


```

-   Note o formato da base de dados. Eles foram contados antes de serem colocados no gráfico

```{r}


```

O que o ggplot faz? (veja Grolemund & Wickham, 2017, <https://r4ds.had.co.nz/transform.html>)

-   bar charts, histograms, and frequency polygons bin your data and then plot bin counts, the number of points that fall in each bin.

-   smoothers fit a model to your data and then plot predictions from the model.

-   boxplots compute a robust summary of the distribution and then display a specially formatted box.

![](../imagens/visualization-stat-bar.png)

```{r}


```


* Veja o código abaixo. Ele faz a cocnta primeiro e depois o gráfico. Note que precisamos indicar o argumento `stat =  "identity"` para dizer ao ggplot que deve considerar os valores como estão na base.  

```{r}



```
* Como fazer um gráfico de proporção

```{r}



```

```{r}



```


Grolemund & Wickham (2017): "You can learn which stat a geom uses by inspecting the default value for the stat argument. For example, ?geom_bar shows that the default value for stat is “count”, which means that geom_bar() uses stat_count(). stat_count() is documented on the same page as geom_bar(), and if you scroll down you can find a section called “Computed variables”. That describes how it computes two new variables: count and prop"

### Ajustes de posição 

* O que acontece quando usamos uma segunda variável em `fill`. Por exemplo queremos contar as variáveis raça e genero. Veja o que o ajuste `position` faz:
```{r}




```

```{r}


```

* Porque esse grafico não funciona?
```{r}


```

### Síntese 
ggplot(data = <DATA>) + 
  <GEOM_FUNCTION>(
     mapping = aes(<MAPPINGS>),
     stat = <STAT>, 
     position = <POSITION>
  ) +
  <COORDINATE_FUNCTION> +
  <FACET_FUNCTION>
  
  
### Salvando os graficos
```{r}

ggsave("f1.png")

```

### Sua vez !!

```{r}

```

